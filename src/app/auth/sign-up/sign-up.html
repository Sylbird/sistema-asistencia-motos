<main>
  <mat-card>
    <mat-card-header>
      <mat-card-title>Registro</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
        <mat-form-field>
          <mat-label>Nombre</mat-label>
          <input matInput formControlName="nombre" />
          @if (signUpForm.controls.nombre.invalid) {
            <mat-error>Nombre es requerido</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Apellido Paterno</mat-label>
          <input matInput formControlName="apellidoPaterno" />
          @if (signUpForm.controls.apellidoPaterno.invalid) {
            <mat-error>Apellido Paterno es requerido</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Apellido Materno</mat-label>
          <input matInput formControlName="apellidoMaterno" />
          @if (signUpForm.controls.apellidoMaterno.invalid) {
            <mat-error>Apellido Materno es requerido</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Correo</mat-label>
          <input matInput formControlName="correo" />
          @if (signUpForm.controls.correo.value === '') {
            <mat-error>Correo es requerido</mat-error>
          }
          @if (signUpForm.controls.correo.hasError('email')) {
            <mat-error>Correo no es válido</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Teléfono</mat-label>
          <input matInput formControlName="telefono" />
          @if (signUpForm.controls.telefono.hasError('required')) {
            <mat-error>Teléfono es requerido</mat-error>
          }
          @if (signUpForm.controls.telefono.hasError('pattern')) {
            <mat-error>Teléfono no es válido</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Contraseña</mat-label>
          <input matInput formControlName="clave" [type]="hidePassword() ? 'password' : 'text'" />
          @if (signUpForm.controls.clave.hasError('required')) {
            <mat-error>Contraseña es requerida</mat-error>
          }
          @if (signUpForm.controls.clave.hasError('minlength')) {
            <mat-error>Contraseña debe tener al menos 6 caracteres</mat-error>
          }
          <button
            type="button"
            matIconButton
            matSuffix
            (click)="togglePassword($event)"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hidePassword()"
          >
            <mat-icon>{{ hidePassword() ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
        </mat-form-field>
        @if (errorMessage()) {
          <mat-error>{{ errorMessage() }}</mat-error>
        }
      <button
            id="signUpButton"
            matFab
            extended
            [type]="signUpForm.invalid ? 'button' : 'submit'"
            color="primary"
          >
            <mat-icon>person_add</mat-icon>
            Registrarse
          </button>
          
          <mat-divider></mat-divider>
          
          <p>¿Ya tienes una cuenta? <a routerLink="/login">Inicia sesión aquí</a></p>
        </form>
    </mat-card-content>
  </mat-card>
</main>
